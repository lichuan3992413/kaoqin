(function(a){a.omWidget.addInitListener("om.omGrid",function(){var m=this,d=m.options.rowDetailsProvider;if(!d){return}a("tr th:eq(0)",m.thead).before('<th align="center" axis="expenderCol" class="expenderCol"><div style="text-align: center; width: 14px;"></div></th>');var c=-1,k=m.options.colModel,j=0;for(var f=0,g=k.length;f<g;f++){if(k[f].width=="autoExpand"){c=f}else{j+=k[f].width}}if(c!=-1){var e=m.thead.find('th[axis="col'+c+'"]>div');e.width(e.width()-m.thead.find('th[axis="expenderCol"]').width())}else{if(m.options.autoFit){var h=m.thead.find('th[axis="expenderCol"]').width()/j,b=tr.find('th[axis^="col"]>div');b.each(function(i){a(this).css("width",parseInt(a(this).width()-k[i].width*h))})}}var l=a("tr th",m.thead).size();m.tbody.delegate("tr td.expenderCol>div","click",function(n){var s=a(this),r=s.closest("tr"),i=r.next("tr");if(i.hasClass("rowExpand-rowDetails")){i.toggle()}else{var q=r.index("tr.om-grid-row"),o=m._getRowData(q),p=d?d(o,q):"&#160;";r.after('<tr class="rowExpand-rowDetails"><td colspan="'+(l-1)+'"><div class="rowExpand-rowDetails-content">'+p+"</div></td></tr>")}if(s.hasClass("rowExpand-expanded")){s.removeClass("rowExpand-expanded").parent().attr("rowspan",1)}else{s.addClass("rowExpand-expanded").parent().attr("rowspan",2)}return false})})})(jQuery);